@page "/tableRecord"
@using CourseClaimer.HEU.Shared.Models.Database
@using CourseClaimer.HEU.Shared.Services
@inject EntityManagementService EMS
@attribute [TabItemOption(Text = "TableRecord")]
<PageTitle>Table</PageTitle>

<h1>Table - 固定标签页</h1>

<Table TItem="ClaimRecord" IsPagination="true" PageItemsSource="[10,20,40]" class="table-demo"
       IsStriped="true" IsBordered="true" ShowSkeleton="true" IsMultipleSelect="true"
       ShowToolbar="true" ShowSearch="true" ShowExtendButtons="true"
       AutoGenerateColumns="true" EditMode="EditMode.Popup" OnQueryAsync="OnQueryAsync">
</Table>

@code
{
    public async Task<QueryData<ClaimRecord>> OnQueryAsync(QueryPageOptions options)
    {
        var customers = await EMS.QueryRecord(options.PageIndex, options.PageItems);
        return new QueryData<ClaimRecord>
        {
            Items = customers.Data,
            TotalCount = customers.Total
        };
    }
}